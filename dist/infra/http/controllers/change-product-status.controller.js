'use strict';const a78_0x56a1f9=a78_0x3e33;(function(_0x5d29d6,_0x5792b7){const _0x1e71b4=a78_0x3e33,_0x5b72f3=_0x5d29d6();while(!![]){try{const _0x285285=-parseInt(_0x1e71b4(0x192))/0x1+parseInt(_0x1e71b4(0x19b))/0x2+parseInt(_0x1e71b4(0x181))/0x3*(-parseInt(_0x1e71b4(0x1b1))/0x4)+-parseInt(_0x1e71b4(0x194))/0x5*(-parseInt(_0x1e71b4(0x1ac))/0x6)+-parseInt(_0x1e71b4(0x1a7))/0x7+parseInt(_0x1e71b4(0x191))/0x8*(parseInt(_0x1e71b4(0x1a2))/0x9)+-parseInt(_0x1e71b4(0x180))/0xa;if(_0x285285===_0x5792b7)break;else _0x5b72f3['push'](_0x5b72f3['shift']());}catch(_0x35a38f){_0x5b72f3['push'](_0x5b72f3['shift']());}}}(a78_0xb6f8,0xb145c));var __decorate=this&&this['__decorate']||function(_0x15c417,_0x53bfbc,_0x2db57b,_0xc7d449){const _0x186802=a78_0x3e33;var _0x264ec3=arguments[_0x186802(0x18d)],_0x53510c=_0x264ec3<0x3?_0x53bfbc:_0xc7d449===null?_0xc7d449=Object[_0x186802(0x1ae)](_0x53bfbc,_0x2db57b):_0xc7d449,_0x33fa59;if(typeof Reflect==='object'&&typeof Reflect[_0x186802(0x188)]===_0x186802(0x18b))_0x53510c=Reflect[_0x186802(0x188)](_0x15c417,_0x53bfbc,_0x2db57b,_0xc7d449);else{for(var _0x338dcd=_0x15c417[_0x186802(0x18d)]-0x1;_0x338dcd>=0x0;_0x338dcd--)if(_0x33fa59=_0x15c417[_0x338dcd])_0x53510c=(_0x264ec3<0x3?_0x33fa59(_0x53510c):_0x264ec3>0x3?_0x33fa59(_0x53bfbc,_0x2db57b,_0x53510c):_0x33fa59(_0x53bfbc,_0x2db57b))||_0x53510c;}return _0x264ec3>0x3&&_0x53510c&&Object[_0x186802(0x184)](_0x53bfbc,_0x2db57b,_0x53510c),_0x53510c;},__metadata=this&&this[a78_0x56a1f9(0x197)]||function(_0xa5aa,_0x45a9b7){const _0x3a41c5=a78_0x56a1f9;if(typeof Reflect===_0x3a41c5(0x1b4)&&typeof Reflect['metadata']===_0x3a41c5(0x18b))return Reflect['metadata'](_0xa5aa,_0x45a9b7);},__param=this&&this['__param']||function(_0x4a4874,_0x31d033){return function(_0x4a57bc,_0x2dd7bf){_0x31d033(_0x4a57bc,_0x2dd7bf,_0x4a4874);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a78_0x56a1f9(0x17a)]=void 0x0;const common_1=require(a78_0x56a1f9(0x17c)),swagger_1=require(a78_0x56a1f9(0x190)),nestjs_zod_1=require('nestjs-zod'),z_1=require(a78_0x56a1f9(0x183)),mark_sell_as_available_use_case_1=require(a78_0x56a1f9(0x1b9)),mark_sell_as_cancelled_use_case_1=require(a78_0x56a1f9(0x198)),mark_sell_as_sold_use_case_1=require(a78_0x56a1f9(0x1a1)),env_service_1=require(a78_0x56a1f9(0x1b6)),current_user_decorator_1=require(a78_0x56a1f9(0x17e)),product_presenter_1=require('../presenters/product.presenter');function a78_0x3e33(_0x33e456,_0x5e09a1){const _0xb6f8c7=a78_0xb6f8();return a78_0x3e33=function(_0x3e33bb,_0x40b211){_0x3e33bb=_0x3e33bb-0x177;let _0x3fe7b5=_0xb6f8c7[_0x3e33bb];return _0x3fe7b5;},a78_0x3e33(_0x33e456,_0x5e09a1);}class ChangeProductStatusParams extends(0x0,nestjs_zod_1[a78_0x56a1f9(0x196)])(z_1['z']['object']({'id':z_1['z']['string']()[a78_0x56a1f9(0x1ad)](),'status':z_1['z'][a78_0x56a1f9(0x186)](['available',a78_0x56a1f9(0x19f),a78_0x56a1f9(0x185)])})){}class ChangeProductStatusResponse extends(0x0,nestjs_zod_1[a78_0x56a1f9(0x196)])(z_1['z'][a78_0x56a1f9(0x1b4)]({'product':product_presenter_1[a78_0x56a1f9(0x1a3)][a78_0x56a1f9(0x18f)]})){}let ChangeProductStatusController=class ChangeProductStatusController{constructor(_0x1041ae,_0x1bb86b,_0x1a0e09,_0x57bd0b){const _0x412b89=a78_0x56a1f9;this['markSellAsAvailable']=_0x1041ae,this[_0x412b89(0x177)]=_0x1bb86b,this[_0x412b89(0x1a0)]=_0x1a0e09,this[_0x412b89(0x1b5)]=_0x57bd0b,this[_0x412b89(0x1aa)]={'available':this[_0x412b89(0x19e)],'cancelled':this[_0x412b89(0x177)],'sold':this['markSellAsSold']};}async[a78_0x56a1f9(0x1a5)](_0x4dfce1,_0x52d377){const _0x50bb6d=a78_0x56a1f9,_0x228180=await this[_0x50bb6d(0x1aa)][_0x4dfce1['status']][_0x50bb6d(0x18a)]({'productId':_0x4dfce1['id'],'ownerId':_0x52d377[_0x50bb6d(0x19d)]});if(_0x228180[_0x50bb6d(0x1b3)]())throw _0x228180['value'];return{'product':product_presenter_1['ProductPresenter'][_0x50bb6d(0x199)](this[_0x50bb6d(0x1b5)],_0x228180[_0x50bb6d(0x195)][_0x50bb6d(0x1a8)])};}};exports[a78_0x56a1f9(0x17a)]=ChangeProductStatusController,__decorate([(0x0,common_1[a78_0x56a1f9(0x1ab)])(),(0x0,swagger_1[a78_0x56a1f9(0x18e)])({'description':'The\x20product\x20status\x20was\x20successfully\x20changed.','type':ChangeProductStatusResponse}),(0x0,swagger_1['ApiNotFoundResponse'])({'description':a78_0x56a1f9(0x187)}),(0x0,swagger_1[a78_0x56a1f9(0x1b2)])({'description':a78_0x56a1f9(0x179)}),(0x0,swagger_1[a78_0x56a1f9(0x19a)])({'summary':'Change\x20the\x20product\x20status'}),__param(0x0,(0x0,common_1[a78_0x56a1f9(0x1af)])()),__param(0x1,(0x0,current_user_decorator_1[a78_0x56a1f9(0x182)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[ChangeProductStatusParams,Object]),__metadata('design:returntype',Promise)],ChangeProductStatusController[a78_0x56a1f9(0x193)],a78_0x56a1f9(0x1a5),null),exports['ChangeProductStatusController']=ChangeProductStatusController=__decorate([(0x0,swagger_1[a78_0x56a1f9(0x1b8)])(a78_0x56a1f9(0x19c)),(0x0,swagger_1[a78_0x56a1f9(0x1a9)])({'name':'id','type':a78_0x56a1f9(0x18c),'description':a78_0x56a1f9(0x1a6)}),(0x0,swagger_1[a78_0x56a1f9(0x1a9)])({'name':a78_0x56a1f9(0x1a4),'type':a78_0x56a1f9(0x189),'enum':[a78_0x56a1f9(0x1b0),'cancelled',a78_0x56a1f9(0x185)]}),(0x0,common_1[a78_0x56a1f9(0x1b7)])(a78_0x56a1f9(0x17b)),__metadata(a78_0x56a1f9(0x17f),[mark_sell_as_available_use_case_1['MarkSellAsAvailableUseCase'],mark_sell_as_cancelled_use_case_1['MarkSellAsCancelledUseCase'],mark_sell_as_sold_use_case_1[a78_0x56a1f9(0x178)],env_service_1[a78_0x56a1f9(0x17d)]])],ChangeProductStatusController);function a78_0xb6f8(){const _0x4d99ec=['getOwnPropertyDescriptor','Param','available','4JKVStJ','ApiForbiddenResponse','isLeft','object','envService','../../env/env.service','Controller','ApiTags','../../../domain/marketplace/application/use-cases/mark-sell-as-available.use-case','markSellAsCancelled','MarkSellAsSoldUseCase','The\x20product\x20does\x20not\x20belong\x20to\x20the\x20seller\x20or\x20the\x20product\x20is\x20with\x20the\x20same\x20status.','ChangeProductStatusController','products/:id/:status','@nestjs/common','EnvService','../auth/current-user-decorator','design:paramtypes','4195220aLDodN','256521hXJyla','CurrentUser','nestjs-zod/z','defineProperty','sold','enum','The\x20product\x20was\x20not\x20found.','decorate','string','execute','function','string\x20(uuid)','length','ApiOkResponse','zod','@nestjs/swagger','2760uLuKbC','430173GOEyuR','prototype','5PCHUaH','value','createZodDto','__metadata','../../../domain/marketplace/application/use-cases/mark-sell-as-cancelled.use-case','toHTTP','ApiOperation','919310yXCfjg','Products','sub','markSellAsAvailable','cancelled','markSellAsSold','../../../domain/marketplace/application/use-cases/mark-sell-as-sold.use-case','35586aPXghV','ProductPresenter','status','handle','The\x20product\x20id','1562736cSUQwA','product','ApiParam','ACTION','Patch','364638lAIurV','uuid'];a78_0xb6f8=function(){return _0x4d99ec;};return a78_0xb6f8();}