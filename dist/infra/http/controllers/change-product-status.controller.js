'use strict';function a78_0x1b82(_0x242c51,_0xa2a8a6){const _0x1c2777=a78_0x1c27();return a78_0x1b82=function(_0x1b82ed,_0x1c692f){_0x1b82ed=_0x1b82ed-0x89;let _0x25ed14=_0x1c2777[_0x1b82ed];return _0x25ed14;},a78_0x1b82(_0x242c51,_0xa2a8a6);}const a78_0x589416=a78_0x1b82;(function(_0x3ead3b,_0x1b3377){const _0xbc3b2f=a78_0x1b82,_0x46330d=_0x3ead3b();while(!![]){try{const _0x3a2742=-parseInt(_0xbc3b2f(0xb3))/0x1+parseInt(_0xbc3b2f(0x9e))/0x2*(-parseInt(_0xbc3b2f(0xb9))/0x3)+-parseInt(_0xbc3b2f(0x9b))/0x4+-parseInt(_0xbc3b2f(0xbb))/0x5+parseInt(_0xbc3b2f(0xa7))/0x6+-parseInt(_0xbc3b2f(0x98))/0x7+parseInt(_0xbc3b2f(0xa3))/0x8*(parseInt(_0xbc3b2f(0xb7))/0x9);if(_0x3a2742===_0x1b3377)break;else _0x46330d['push'](_0x46330d['shift']());}catch(_0x2011b1){_0x46330d['push'](_0x46330d['shift']());}}}(a78_0x1c27,0xd6ef0));var __decorate=this&&this[a78_0x589416(0xab)]||function(_0x2b4c8d,_0x7bf43a,_0x573fb6,_0x3c3ad2){const _0x75de20=a78_0x589416;var _0x2ca45e=arguments[_0x75de20(0x8f)],_0x4174d6=_0x2ca45e<0x3?_0x7bf43a:_0x3c3ad2===null?_0x3c3ad2=Object['getOwnPropertyDescriptor'](_0x7bf43a,_0x573fb6):_0x3c3ad2,_0x185f79;if(typeof Reflect===_0x75de20(0xa8)&&typeof Reflect[_0x75de20(0xbd)]===_0x75de20(0x95))_0x4174d6=Reflect[_0x75de20(0xbd)](_0x2b4c8d,_0x7bf43a,_0x573fb6,_0x3c3ad2);else{for(var _0x16fec9=_0x2b4c8d[_0x75de20(0x8f)]-0x1;_0x16fec9>=0x0;_0x16fec9--)if(_0x185f79=_0x2b4c8d[_0x16fec9])_0x4174d6=(_0x2ca45e<0x3?_0x185f79(_0x4174d6):_0x2ca45e>0x3?_0x185f79(_0x7bf43a,_0x573fb6,_0x4174d6):_0x185f79(_0x7bf43a,_0x573fb6))||_0x4174d6;}return _0x2ca45e>0x3&&_0x4174d6&&Object['defineProperty'](_0x7bf43a,_0x573fb6,_0x4174d6),_0x4174d6;},__metadata=this&&this['__metadata']||function(_0x28781a,_0x2c0c3e){const _0x5847d7=a78_0x589416;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x5847d7(0x95))return Reflect[_0x5847d7(0xb8)](_0x28781a,_0x2c0c3e);},__param=this&&this[a78_0x589416(0xb4)]||function(_0x5ccb7f,_0x1ac225){return function(_0x4f288c,_0x50c1e9){_0x1ac225(_0x4f288c,_0x50c1e9,_0x5ccb7f);};};Object[a78_0x589416(0xb1)](exports,a78_0x589416(0xb0),{'value':!![]}),exports[a78_0x589416(0xae)]=void 0x0;function a78_0x1c27(){const _0x47a9a8=['markSellAsSold','5683990dOotgS','sub','decorate','zod','Patch','../presenters/product.presenter','uuid','@nestjs/common','prototype','length','sold','Param','ZodValidationPipe','envService','markSellAsAvailable','function','cancelled','MarkSellAsSoldUseCase','9531921niSqpn','../pipes/zod-validation-pipe','MarkSellAsCancelledUseCase','2866900IlZLOF','ACTION','../../env/env.service','6THffmf','../../../domain/marketplace/application/use-cases/mark-sell-as-sold.use-case','design:returntype','value','CurrentUser','7104648jKaGrO','available','design:type','execute','8444466JflJPc','object','../auth/current-user-decorator','handle','__decorate','../../../domain/marketplace/application/use-cases/mark-sell-as-cancelled.use-case','toHTTP','ChangeProductStatusController','ProductPresenter','__esModule','defineProperty','markSellAsCancelled','457239uAMsla','__param','isLeft','../../../domain/marketplace/application/use-cases/mark-sell-as-available.use-case','36ngeRJg','metadata','406902pGFXYw'];a78_0x1c27=function(){return _0x47a9a8;};return a78_0x1c27();}const common_1=require(a78_0x589416(0x8d)),zod_1=require(a78_0x589416(0x89)),mark_sell_as_available_use_case_1=require(a78_0x589416(0xb6)),mark_sell_as_cancelled_use_case_1=require(a78_0x589416(0xac)),mark_sell_as_sold_use_case_1=require(a78_0x589416(0x9f)),env_service_1=require(a78_0x589416(0x9d)),current_user_decorator_1=require(a78_0x589416(0xa9)),zod_validation_pipe_1=require(a78_0x589416(0x99)),product_presenter_1=require(a78_0x589416(0x8b)),paramsSchema=zod_1['z'][a78_0x589416(0xa8)]({'id':zod_1['z']['string']()[a78_0x589416(0x8c)](),'status':zod_1['z']['enum']([a78_0x589416(0xa4),a78_0x589416(0x96),a78_0x589416(0x90)])});let ChangeProductStatusController=class ChangeProductStatusController{constructor(_0x574e9e,_0x3a5099,_0x1b93c3,_0x366547){const _0x13d68d=a78_0x589416;this[_0x13d68d(0x94)]=_0x574e9e,this[_0x13d68d(0xb2)]=_0x3a5099,this[_0x13d68d(0xba)]=_0x1b93c3,this[_0x13d68d(0x93)]=_0x366547,this[_0x13d68d(0x9c)]={'available':this[_0x13d68d(0x94)],'cancelled':this[_0x13d68d(0xb2)],'sold':this[_0x13d68d(0xba)]};}async[a78_0x589416(0xaa)](_0x4c58f8,_0x345b0d){const _0x130962=a78_0x589416,_0x2adb8e=await this['ACTION'][_0x4c58f8['status']][_0x130962(0xa6)]({'productId':_0x4c58f8['id'],'ownerId':_0x345b0d[_0x130962(0xbc)]});if(_0x2adb8e[_0x130962(0xb5)]())throw _0x2adb8e['value'];return{'product':product_presenter_1[_0x130962(0xaf)][_0x130962(0xad)](this[_0x130962(0x93)],_0x2adb8e[_0x130962(0xa1)]['product'])};}};exports[a78_0x589416(0xae)]=ChangeProductStatusController,__decorate([(0x0,common_1[a78_0x589416(0x8a)])(),__param(0x0,(0x0,common_1[a78_0x589416(0x91)])(new zod_validation_pipe_1[(a78_0x589416(0x92))](paramsSchema))),__param(0x1,(0x0,current_user_decorator_1[a78_0x589416(0xa2)])()),__metadata(a78_0x589416(0xa5),Function),__metadata('design:paramtypes',[void 0x0,Object]),__metadata(a78_0x589416(0xa0),Promise)],ChangeProductStatusController[a78_0x589416(0x8e)],a78_0x589416(0xaa),null),exports[a78_0x589416(0xae)]=ChangeProductStatusController=__decorate([(0x0,common_1['Controller'])('products/:id/:status'),__metadata('design:paramtypes',[mark_sell_as_available_use_case_1['MarkSellAsAvailableUseCase'],mark_sell_as_cancelled_use_case_1[a78_0x589416(0x9a)],mark_sell_as_sold_use_case_1[a78_0x589416(0x97)],env_service_1['EnvService']])],ChangeProductStatusController);