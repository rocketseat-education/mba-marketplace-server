'use strict';function a84_0x3c49(){const _0x4f681b=['nestjs-zod','attachmentsIds','__param','isLeft','prototype','27708216gPsPHY','ApiNotFoundResponse','toHTTP','execute','@nestjs/common','7512552QwLfwU','envService','defineProperty','CurrentUser','design:paramtypes','__decorate','The\x20product\x20was\x20not\x20found.','number','@nestjs/swagger','description','design:returntype','Param','EditProductUseCase','__esModule','priceInCents','string\x20(uuid)','ApiForbiddenResponse','The\x20product\x20was\x20successfully\x20edited.','products/:id','product','length','109084Rgomup','object','design:type','../../../domain/marketplace/application/use-cases/edit-product.use-case','editProduct','5672807coXGOb','3384545NmyyGJ','6aZuOjE','categoryId','ApiOperation','Put','Body','../../env/env.service','EditProductController','metadata','coerce','Edit\x20a\x20product','handle','value','ApiCreatedResponse','432646WMMxIs','function','4414160cCKzIx','title','__metadata','createZodDto','Controller','uuid','string','ProductPresenter','ApiTags','getOwnPropertyDescriptor'];a84_0x3c49=function(){return _0x4f681b;};return a84_0x3c49();}const a84_0x3596f4=a84_0x40ca;(function(_0x4aba40,_0x5bda38){const _0x24d761=a84_0x40ca,_0xa3e66=_0x4aba40();while(!![]){try{const _0x36f006=-parseInt(_0x24d761(0x17d))/0x1+parseInt(_0x24d761(0x191))/0x2*(parseInt(_0x24d761(0x184))/0x3)+parseInt(_0x24d761(0x193))/0x4+parseInt(_0x24d761(0x183))/0x5+parseInt(_0x24d761(0x1a7))/0x6+parseInt(_0x24d761(0x182))/0x7+-parseInt(_0x24d761(0x1a2))/0x8;if(_0x36f006===_0x5bda38)break;else _0xa3e66['push'](_0xa3e66['shift']());}catch(_0x4d1da3){_0xa3e66['push'](_0xa3e66['shift']());}}}(a84_0x3c49,0xaba01));function a84_0x40ca(_0x26cd34,_0x509006){const _0x3c4998=a84_0x3c49();return a84_0x40ca=function(_0x40ca42,_0x230690){_0x40ca42=_0x40ca42-0x16f;let _0x12c015=_0x3c4998[_0x40ca42];return _0x12c015;},a84_0x40ca(_0x26cd34,_0x509006);}var __decorate=this&&this[a84_0x3596f4(0x1ac)]||function(_0x5002fb,_0x35e723,_0x288b7b,_0x552266){const _0x3ae05f=a84_0x3596f4;var _0x224422=arguments[_0x3ae05f(0x17c)],_0x173160=_0x224422<0x3?_0x35e723:_0x552266===null?_0x552266=Object[_0x3ae05f(0x19c)](_0x35e723,_0x288b7b):_0x552266,_0x4f2ad6;if(typeof Reflect===_0x3ae05f(0x17e)&&typeof Reflect['decorate']===_0x3ae05f(0x192))_0x173160=Reflect['decorate'](_0x5002fb,_0x35e723,_0x288b7b,_0x552266);else{for(var _0x3eff29=_0x5002fb['length']-0x1;_0x3eff29>=0x0;_0x3eff29--)if(_0x4f2ad6=_0x5002fb[_0x3eff29])_0x173160=(_0x224422<0x3?_0x4f2ad6(_0x173160):_0x224422>0x3?_0x4f2ad6(_0x35e723,_0x288b7b,_0x173160):_0x4f2ad6(_0x35e723,_0x288b7b))||_0x173160;}return _0x224422>0x3&&_0x173160&&Object[_0x3ae05f(0x1a9)](_0x35e723,_0x288b7b,_0x173160),_0x173160;},__metadata=this&&this[a84_0x3596f4(0x195)]||function(_0x4f5dc5,_0x4be310){const _0x505e0a=a84_0x3596f4;if(typeof Reflect==='object'&&typeof Reflect[_0x505e0a(0x18b)]===_0x505e0a(0x192))return Reflect[_0x505e0a(0x18b)](_0x4f5dc5,_0x4be310);},__param=this&&this[a84_0x3596f4(0x19f)]||function(_0x518b2a,_0xacb3b2){return function(_0x243c93,_0x2128e5){_0xacb3b2(_0x243c93,_0x2128e5,_0x518b2a);};};Object[a84_0x3596f4(0x1a9)](exports,a84_0x3596f4(0x175),{'value':!![]}),exports[a84_0x3596f4(0x18a)]=void 0x0;const common_1=require(a84_0x3596f4(0x1a6)),swagger_1=require(a84_0x3596f4(0x170)),nestjs_zod_1=require(a84_0x3596f4(0x19d)),z_1=require('nestjs-zod/z'),edit_product_use_case_1=require(a84_0x3596f4(0x180)),env_service_1=require(a84_0x3596f4(0x189)),current_user_decorator_1=require('../auth/current-user-decorator'),product_presenter_1=require('../presenters/product.presenter');class CreateProductRequestBody extends(0x0,nestjs_zod_1[a84_0x3596f4(0x196)])(z_1['z'][a84_0x3596f4(0x17e)]({'title':z_1['z'][a84_0x3596f4(0x199)](),'categoryId':z_1['z'][a84_0x3596f4(0x199)]()[a84_0x3596f4(0x198)](),'description':z_1['z'][a84_0x3596f4(0x199)](),'priceInCents':z_1['z'][a84_0x3596f4(0x18c)][a84_0x3596f4(0x16f)](),'attachmentsIds':z_1['z']['array'](z_1['z'][a84_0x3596f4(0x199)]()['uuid']())})){}class CreateProductResponse extends(0x0,nestjs_zod_1[a84_0x3596f4(0x196)])(z_1['z']['object']({'product':product_presenter_1[a84_0x3596f4(0x19a)]['zod']})){}let EditProductController=class EditProductController{constructor(_0x2d644b,_0x317aa8){const _0x559882=a84_0x3596f4;this[_0x559882(0x181)]=_0x2d644b,this[_0x559882(0x1a8)]=_0x317aa8;}async['handle'](_0xddc8b6,_0xbd349f,_0x46a04e){const _0x148f6a=a84_0x3596f4,_0x4170a1=await this[_0x148f6a(0x181)][_0x148f6a(0x1a5)]({'id':_0xddc8b6,'ownerId':_0x46a04e['sub'],'categoryId':_0xbd349f[_0x148f6a(0x185)],'title':_0xbd349f[_0x148f6a(0x194)],'priceInCents':_0xbd349f[_0x148f6a(0x176)],'description':_0xbd349f[_0x148f6a(0x171)],'attachmentsIds':_0xbd349f[_0x148f6a(0x19e)]});if(_0x4170a1[_0x148f6a(0x1a0)]())throw _0x4170a1[_0x148f6a(0x18f)];return{'product':product_presenter_1[_0x148f6a(0x19a)][_0x148f6a(0x1a4)](this[_0x148f6a(0x1a8)],_0x4170a1[_0x148f6a(0x18f)][_0x148f6a(0x17b)])};}};exports[a84_0x3596f4(0x18a)]=EditProductController,__decorate([(0x0,common_1[a84_0x3596f4(0x187)])(),(0x0,swagger_1[a84_0x3596f4(0x190)])({'description':a84_0x3596f4(0x179),'type':CreateProductResponse}),(0x0,swagger_1[a84_0x3596f4(0x1a3)])({'description':a84_0x3596f4(0x1ad)}),(0x0,swagger_1[a84_0x3596f4(0x178)])({'description':'You\x20are\x20not\x20the\x20owner\x20of\x20this\x20product\x20or\x20the\x20product\x20is\x20sold.'}),(0x0,swagger_1[a84_0x3596f4(0x186)])({'summary':a84_0x3596f4(0x18d)}),__param(0x0,(0x0,common_1[a84_0x3596f4(0x173)])('id')),__param(0x1,(0x0,common_1[a84_0x3596f4(0x188)])()),__param(0x2,(0x0,current_user_decorator_1[a84_0x3596f4(0x1aa)])()),__metadata(a84_0x3596f4(0x17f),Function),__metadata(a84_0x3596f4(0x1ab),[String,CreateProductRequestBody,Object]),__metadata(a84_0x3596f4(0x172),Promise)],EditProductController[a84_0x3596f4(0x1a1)],a84_0x3596f4(0x18e),null),exports['EditProductController']=EditProductController=__decorate([(0x0,swagger_1[a84_0x3596f4(0x19b)])('Products'),(0x0,swagger_1['ApiParam'])({'name':'id','type':a84_0x3596f4(0x177),'description':'The\x20product\x20id'}),(0x0,common_1[a84_0x3596f4(0x197)])(a84_0x3596f4(0x17a)),__metadata(a84_0x3596f4(0x1ab),[edit_product_use_case_1[a84_0x3596f4(0x174)],env_service_1['EnvService']])],EditProductController);