'use strict';const a90_0x19eb91=a90_0x3b5b;(function(_0x533ee1,_0x163e09){const _0x5db675=a90_0x3b5b,_0x163c17=_0x533ee1();while(!![]){try{const _0x56faff=parseInt(_0x5db675(0x114))/0x1*(parseInt(_0x5db675(0xef))/0x2)+-parseInt(_0x5db675(0x115))/0x3*(-parseInt(_0x5db675(0xe9))/0x4)+parseInt(_0x5db675(0x10c))/0x5*(-parseInt(_0x5db675(0xfc))/0x6)+-parseInt(_0x5db675(0x119))/0x7*(parseInt(_0x5db675(0xf6))/0x8)+-parseInt(_0x5db675(0xf8))/0x9+-parseInt(_0x5db675(0xe1))/0xa*(-parseInt(_0x5db675(0x116))/0xb)+parseInt(_0x5db675(0x10f))/0xc*(-parseInt(_0x5db675(0x11d))/0xd);if(_0x56faff===_0x163e09)break;else _0x163c17['push'](_0x163c17['shift']());}catch(_0x12dadc){_0x163c17['push'](_0x163c17['shift']());}}}(a90_0x35c8,0x20840));function a90_0x3b5b(_0x6f9529,_0xbaed87){const _0x35c823=a90_0x35c8();return a90_0x3b5b=function(_0x3b5b07,_0x12c583){_0x3b5b07=_0x3b5b07-0xe1;let _0x3f81d6=_0x35c823[_0x3b5b07];return _0x3f81d6;},a90_0x3b5b(_0x6f9529,_0xbaed87);}var __decorate=this&&this['__decorate']||function(_0x5511af,_0x15b95,_0x56875e,_0x3ac9b7){const _0xe66fad=a90_0x3b5b;var _0x2c8448=arguments[_0xe66fad(0x106)],_0x4db5ae=_0x2c8448<0x3?_0x15b95:_0x3ac9b7===null?_0x3ac9b7=Object[_0xe66fad(0xf1)](_0x15b95,_0x56875e):_0x3ac9b7,_0x80fbcc;if(typeof Reflect===_0xe66fad(0xe2)&&typeof Reflect[_0xe66fad(0x10b)]===_0xe66fad(0xf5))_0x4db5ae=Reflect['decorate'](_0x5511af,_0x15b95,_0x56875e,_0x3ac9b7);else{for(var _0x26c7c3=_0x5511af['length']-0x1;_0x26c7c3>=0x0;_0x26c7c3--)if(_0x80fbcc=_0x5511af[_0x26c7c3])_0x4db5ae=(_0x2c8448<0x3?_0x80fbcc(_0x4db5ae):_0x2c8448>0x3?_0x80fbcc(_0x15b95,_0x56875e,_0x4db5ae):_0x80fbcc(_0x15b95,_0x56875e))||_0x4db5ae;}return _0x2c8448>0x3&&_0x4db5ae&&Object[_0xe66fad(0x111)](_0x15b95,_0x56875e,_0x4db5ae),_0x4db5ae;},__metadata=this&&this[a90_0x19eb91(0x11a)]||function(_0x2522d7,_0x448dd5){const _0x49aac3=a90_0x19eb91;if(typeof Reflect==='object'&&typeof Reflect[_0x49aac3(0xfb)]==='function')return Reflect['metadata'](_0x2522d7,_0x448dd5);},__param=this&&this[a90_0x19eb91(0xf9)]||function(_0x4d1e47,_0x628a72){return function(_0x5698a1,_0x5a06c6){_0x628a72(_0x5698a1,_0x5a06c6,_0x4d1e47);};};Object[a90_0x19eb91(0x111)](exports,a90_0x19eb91(0xfa),{'value':!![]}),exports[a90_0x19eb91(0xe3)]=void 0x0;const common_1=require(a90_0x19eb91(0xee)),swagger_1=require('@nestjs/swagger'),nestjs_zod_1=require('nestjs-zod'),z_1=require(a90_0x19eb91(0xf0)),register_view_use_case_1=require(a90_0x19eb91(0xf7)),env_service_1=require(a90_0x19eb91(0xe8)),current_user_decorator_1=require(a90_0x19eb91(0x10a)),product_presenter_1=require('../presenters/product.presenter'),user_presenter_1=require(a90_0x19eb91(0x117));function a90_0x35c8(){const _0x34cf31=['The\x20product\x20id','handle','22343dFYXXS','1917KbjyPB','158587FVFXxF','../presenters/user.presenter','ApiParam','217WmWcnE','__metadata','Viewers','design:type','65jaJmFc','40VdgBBJ','object','RegisterViewController','ProductPresenter','value','UserPresenter','The\x20view\x20was\x20successfully\x20registered.','../../env/env.service','892TMhnpE','createZodDto','The\x20viewer\x20is\x20the\x20owner\x20of\x20the\x20product.','zod','toHTTP','@nestjs/common','22yNqvjF','nestjs-zod/z','getOwnPropertyDescriptor','EnvService','The\x20product\x20or\x20viewer\x20was\x20not\x20found.','CurrentUser','function','3920fDHpYQ','../../../domain/marketplace/application/use-cases/register-view.use-case','552078gXOhgJ','__param','__esModule','metadata','6MMcRjb','design:paramtypes','/products/:id/views','design:returntype','RegisterViewUseCase','HttpCode','view','Controller','registerView','string\x20(uuid)','length','ApiTags','ApiCreatedResponse','execute','../auth/current-user-decorator','decorate','501335UEczjA','ApiForbiddenResponse','prototype','326292KrFbBR','ApiOperation','defineProperty'];a90_0x35c8=function(){return _0x34cf31;};return a90_0x35c8();}class RegisterViewResponse extends(0x0,nestjs_zod_1[a90_0x19eb91(0xea)])(z_1['z']['object']({'product':product_presenter_1['ProductPresenter']['zod'],'viewer':user_presenter_1[a90_0x19eb91(0xe6)][a90_0x19eb91(0xec)]})){}let RegisterViewController=class RegisterViewController{constructor(_0x26f857,_0x49be18){const _0x15034c=a90_0x19eb91;this[_0x15034c(0x104)]=_0x26f857,this['env']=_0x49be18;}async[a90_0x19eb91(0x113)](_0x27c0ab,_0xa34d2a){const _0x6607b0=a90_0x19eb91,_0x17edf2=await this[_0x6607b0(0x104)][_0x6607b0(0x109)]({'productId':_0xa34d2a,'viewerId':_0x27c0ab['sub']});if(_0x17edf2['isLeft']())throw _0x17edf2[_0x6607b0(0xe5)];return{'product':product_presenter_1[_0x6607b0(0xe4)]['toHTTP'](this['env'],_0x17edf2[_0x6607b0(0xe5)]['view']['product']),'viewer':user_presenter_1['UserPresenter'][_0x6607b0(0xed)](this['env'],_0x17edf2[_0x6607b0(0xe5)][_0x6607b0(0x102)]['viewer'])};}};exports[a90_0x19eb91(0xe3)]=RegisterViewController,__decorate([(0x0,common_1['Post'])(),(0x0,common_1[a90_0x19eb91(0x101)])(0xc9),(0x0,swagger_1[a90_0x19eb91(0x108)])({'description':a90_0x19eb91(0xe7),'type':RegisterViewResponse}),(0x0,swagger_1['ApiNotFoundResponse'])({'description':a90_0x19eb91(0xf3)}),(0x0,swagger_1[a90_0x19eb91(0x10d)])({'description':a90_0x19eb91(0xeb)}),(0x0,swagger_1[a90_0x19eb91(0x110)])({'summary':'Register\x20a\x20view\x20on\x20a\x20product'}),__param(0x0,(0x0,current_user_decorator_1[a90_0x19eb91(0xf4)])()),__param(0x1,(0x0,common_1['Param'])('id')),__metadata(a90_0x19eb91(0x11c),Function),__metadata(a90_0x19eb91(0xfd),[Object,String]),__metadata(a90_0x19eb91(0xff),Promise)],RegisterViewController[a90_0x19eb91(0x10e)],a90_0x19eb91(0x113),null),exports[a90_0x19eb91(0xe3)]=RegisterViewController=__decorate([(0x0,swagger_1[a90_0x19eb91(0x107)])(a90_0x19eb91(0x11b)),(0x0,swagger_1[a90_0x19eb91(0x118)])({'name':'id','type':a90_0x19eb91(0x105),'description':a90_0x19eb91(0x112)}),(0x0,common_1[a90_0x19eb91(0x103)])(a90_0x19eb91(0xfe)),__metadata(a90_0x19eb91(0xfd),[register_view_use_case_1[a90_0x19eb91(0x100)],env_service_1[a90_0x19eb91(0xf2)]])],RegisterViewController);