'use strict';const a35_0x2f7c4e=a35_0x4d7f;(function(_0x2a36f0,_0x5dd38c){const _0x3bbcf9=a35_0x4d7f,_0x57d360=_0x2a36f0();while(!![]){try{const _0x22edbe=parseInt(_0x3bbcf9(0x15c))/0x1+-parseInt(_0x3bbcf9(0x17f))/0x2*(-parseInt(_0x3bbcf9(0x155))/0x3)+parseInt(_0x3bbcf9(0x171))/0x4+parseInt(_0x3bbcf9(0x166))/0x5+-parseInt(_0x3bbcf9(0x15e))/0x6*(-parseInt(_0x3bbcf9(0x160))/0x7)+parseInt(_0x3bbcf9(0x156))/0x8*(parseInt(_0x3bbcf9(0x17c))/0x9)+-parseInt(_0x3bbcf9(0x162))/0xa;if(_0x22edbe===_0x5dd38c)break;else _0x57d360['push'](_0x57d360['shift']());}catch(_0x381895){_0x57d360['push'](_0x57d360['shift']());}}}(a35_0x18f1,0x23e8f));function a35_0x4d7f(_0x14024c,_0x58d814){const _0x18f1fd=a35_0x18f1();return a35_0x4d7f=function(_0x4d7f74,_0x536ae8){_0x4d7f74=_0x4d7f74-0x152;let _0x228cea=_0x18f1fd[_0x4d7f74];return _0x228cea;},a35_0x4d7f(_0x14024c,_0x58d814);}var __decorate=this&&this[a35_0x2f7c4e(0x17e)]||function(_0x8985a2,_0x114d56,_0x5101a8,_0x30d92b){const _0x33f0d2=a35_0x2f7c4e;var _0x1149d3=arguments[_0x33f0d2(0x169)],_0x46374e=_0x1149d3<0x3?_0x114d56:_0x30d92b===null?_0x30d92b=Object[_0x33f0d2(0x154)](_0x114d56,_0x5101a8):_0x30d92b,_0x30277d;if(typeof Reflect===_0x33f0d2(0x161)&&typeof Reflect[_0x33f0d2(0x15d)]===_0x33f0d2(0x159))_0x46374e=Reflect['decorate'](_0x8985a2,_0x114d56,_0x5101a8,_0x30d92b);else{for(var _0x2a49eb=_0x8985a2[_0x33f0d2(0x169)]-0x1;_0x2a49eb>=0x0;_0x2a49eb--)if(_0x30277d=_0x8985a2[_0x2a49eb])_0x46374e=(_0x1149d3<0x3?_0x30277d(_0x46374e):_0x1149d3>0x3?_0x30277d(_0x114d56,_0x5101a8,_0x46374e):_0x30277d(_0x114d56,_0x5101a8))||_0x46374e;}return _0x1149d3>0x3&&_0x46374e&&Object[_0x33f0d2(0x164)](_0x114d56,_0x5101a8,_0x46374e),_0x46374e;},__metadata=this&&this[a35_0x2f7c4e(0x153)]||function(_0x56e792,_0x4e0ec2){const _0x117d71=a35_0x2f7c4e;if(typeof Reflect==='object'&&typeof Reflect[_0x117d71(0x16e)]===_0x117d71(0x159))return Reflect[_0x117d71(0x16e)](_0x56e792,_0x4e0ec2);};Object[a35_0x2f7c4e(0x164)](exports,a35_0x2f7c4e(0x17b),{'value':!![]}),exports[a35_0x2f7c4e(0x158)]=void 0x0;function a35_0x18f1(){const _0x524fc9=['1491DsVymQ','object','6118890RWkmxp','NotAllowedError','defineProperty','You\x20are\x20not\x20the\x20owner\x20of\x20this\x20product.','500355NeTomH','all','AVAILABLE','length','../../../../core/logic/either','execute','ProductsRepository','ownerId','metadata','equals','This\x20product\x20is\x20already\x20available.','844148JfQOPR','left','design:paramtypes','SellersRepository','Product','../../../../core/errors/common/not-allowed.error','status','sellersRepository','save','productsRepository','__esModule','735975DJLMVC','../../enterprise/entities/product','__decorate','169736CCEawZ','findById','productId','right','Injectable','__metadata','getOwnPropertyDescriptor','3dKIOeX','8GAQBpE','./errors/resource-not-found.error','MarkSellAsAvailableUseCase','function','Status','@nestjs/common','232448PEyqvQ','decorate','1374PvEgKA','ResourceNotFoundError'];a35_0x18f1=function(){return _0x524fc9;};return a35_0x18f1();}const common_1=require(a35_0x2f7c4e(0x15b)),not_allowed_error_1=require(a35_0x2f7c4e(0x176)),either_1=require(a35_0x2f7c4e(0x16a)),products_repository_1=require('../repositories/products.repository'),sellers_repository_1=require('../repositories/sellers.repository'),resource_not_found_error_1=require(a35_0x2f7c4e(0x157)),product_1=require(a35_0x2f7c4e(0x17d));let MarkSellAsAvailableUseCase=class MarkSellAsAvailableUseCase{constructor(_0x51b601,_0x5ed69c){const _0x3ea4e1=a35_0x2f7c4e;this[_0x3ea4e1(0x178)]=_0x51b601,this[_0x3ea4e1(0x17a)]=_0x5ed69c;}async[a35_0x2f7c4e(0x16b)](_0x12dd86){const _0x3cdab8=a35_0x2f7c4e,[_0x3c3513,_0x36564b]=await Promise[_0x3cdab8(0x167)]([this['sellersRepository'][_0x3cdab8(0x180)](_0x12dd86[_0x3cdab8(0x16d)]),this[_0x3cdab8(0x17a)][_0x3cdab8(0x180)](_0x12dd86['productId'])]);if(!_0x3c3513)return(0x0,either_1[_0x3cdab8(0x172)])(new resource_not_found_error_1['ResourceNotFoundError']('Seller','ID',_0x12dd86[_0x3cdab8(0x16d)]));if(!_0x36564b)return(0x0,either_1['left'])(new resource_not_found_error_1[(_0x3cdab8(0x15f))](_0x3cdab8(0x175),'ID',_0x12dd86[_0x3cdab8(0x181)]));if(!_0x36564b['owner']['id'][_0x3cdab8(0x16f)](_0x3c3513['id']))return(0x0,either_1[_0x3cdab8(0x172)])(new not_allowed_error_1[(_0x3cdab8(0x163))](_0x3cdab8(0x165)));if(_0x36564b['status']===product_1[_0x3cdab8(0x175)][_0x3cdab8(0x15a)][_0x3cdab8(0x168)])return(0x0,either_1['left'])(new not_allowed_error_1['NotAllowedError'](_0x3cdab8(0x170)));return _0x36564b[_0x3cdab8(0x177)]=product_1[_0x3cdab8(0x175)]['Status'][_0x3cdab8(0x168)],await this[_0x3cdab8(0x17a)][_0x3cdab8(0x179)](_0x36564b),(0x0,either_1[_0x3cdab8(0x182)])({'product':_0x36564b});}};exports['MarkSellAsAvailableUseCase']=MarkSellAsAvailableUseCase,exports[a35_0x2f7c4e(0x158)]=MarkSellAsAvailableUseCase=__decorate([(0x0,common_1[a35_0x2f7c4e(0x152)])(),__metadata(a35_0x2f7c4e(0x173),[sellers_repository_1[a35_0x2f7c4e(0x174)],products_repository_1[a35_0x2f7c4e(0x16c)]])],MarkSellAsAvailableUseCase);