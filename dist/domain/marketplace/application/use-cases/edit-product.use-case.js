'use strict';const a26_0x1ef26e=a26_0x4f98;(function(_0x4358d6,_0xd0b722){const _0x323de2=a26_0x4f98,_0x1174ef=_0x4358d6();while(!![]){try{const _0x36d5c5=parseInt(_0x323de2(0x7d))/0x1+parseInt(_0x323de2(0x8b))/0x2+parseInt(_0x323de2(0xae))/0x3*(-parseInt(_0x323de2(0x82))/0x4)+-parseInt(_0x323de2(0xb1))/0x5*(-parseInt(_0x323de2(0x80))/0x6)+parseInt(_0x323de2(0xa6))/0x7+-parseInt(_0x323de2(0x89))/0x8+-parseInt(_0x323de2(0xb6))/0x9;if(_0x36d5c5===_0xd0b722)break;else _0x1174ef['push'](_0x1174ef['shift']());}catch(_0x4ba6b5){_0x1174ef['push'](_0x1174ef['shift']());}}}(a26_0x5712,0x96a1d));var __decorate=this&&this['__decorate']||function(_0xa4fd24,_0x1fc0ac,_0x35ddbe,_0x3de2f5){const _0x44752b=a26_0x4f98;var _0x15b850=arguments['length'],_0x30b310=_0x15b850<0x3?_0x1fc0ac:_0x3de2f5===null?_0x3de2f5=Object['getOwnPropertyDescriptor'](_0x1fc0ac,_0x35ddbe):_0x3de2f5,_0x45b970;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x44752b(0xb7))_0x30b310=Reflect[_0x44752b(0x8d)](_0xa4fd24,_0x1fc0ac,_0x35ddbe,_0x3de2f5);else{for(var _0x2ad74c=_0xa4fd24[_0x44752b(0x86)]-0x1;_0x2ad74c>=0x0;_0x2ad74c--)if(_0x45b970=_0xa4fd24[_0x2ad74c])_0x30b310=(_0x15b850<0x3?_0x45b970(_0x30b310):_0x15b850>0x3?_0x45b970(_0x1fc0ac,_0x35ddbe,_0x30b310):_0x45b970(_0x1fc0ac,_0x35ddbe))||_0x30b310;}return _0x15b850>0x3&&_0x30b310&&Object['defineProperty'](_0x1fc0ac,_0x35ddbe,_0x30b310),_0x30b310;},__metadata=this&&this[a26_0x1ef26e(0xab)]||function(_0x1a77cf,_0x3c40f4){const _0x47758c=a26_0x1ef26e;if(typeof Reflect===_0x47758c(0xa2)&&typeof Reflect[_0x47758c(0xac)]===_0x47758c(0xb7))return Reflect[_0x47758c(0xac)](_0x1a77cf,_0x3c40f4);};function a26_0x5712(){const _0x3a52e7=['update','72ThUWEp','hasAll','ResourceNotFoundError','./errors/resource-not-found.error','length','../../../../core/logic/either','sellersRepository','1413424SYSSJl','equals','1951596zvZQwH','__esModule','decorate','../repositories/sellers.repository','Seller','attachmentsIds','status','ownerId','ProductsRepository','attachments','save','owner','data','../repositories/attachments.repository','right','You\x20are\x20not\x20the\x20owner\x20of\x20this\x20product.','Product','inexistentIds','left','EditProductUseCase','priceInCents','design:paramtypes','join','object','description','categoryId','Attachment','7355740hGtESR','CategoriesRepository','all','Injectable','SOLD','__metadata','metadata','You\x20cannot\x20edit\x20a\x20sold\x20product.','3678uetNyi','../../enterprise/entities/product','AttachmentsRepository','5niBYCd','../repositories/categories.repository','attachmentsRepository','title','Category','22360077nDqMmQ','function','../../../../core/errors/common/not-allowed.error','../repositories/products.repository','findById','execute','IDs','SellersRepository','productsRepository','822767fKvVFf','categoriesRepository','NotAllowedError','2704818mBmWXV'];a26_0x5712=function(){return _0x3a52e7;};return a26_0x5712();}Object['defineProperty'](exports,a26_0x1ef26e(0x8c),{'value':!![]}),exports[a26_0x1ef26e(0x9e)]=void 0x0;function a26_0x4f98(_0x162ee4,_0x18df09){const _0x5712a7=a26_0x5712();return a26_0x4f98=function(_0x4f980e,_0x1b1d7d){_0x4f980e=_0x4f980e-0x7c;let _0x3a427c=_0x5712a7[_0x4f980e];return _0x3a427c;},a26_0x4f98(_0x162ee4,_0x18df09);}const common_1=require('@nestjs/common'),not_allowed_error_1=require(a26_0x1ef26e(0xb8)),either_1=require(a26_0x1ef26e(0x87)),attachments_repository_1=require(a26_0x1ef26e(0x98)),categories_repository_1=require(a26_0x1ef26e(0xb2)),products_repository_1=require(a26_0x1ef26e(0xb9)),sellers_repository_1=require(a26_0x1ef26e(0x8e)),resource_not_found_error_1=require(a26_0x1ef26e(0x85)),product_1=require(a26_0x1ef26e(0xaf));let EditProductUseCase=class EditProductUseCase{constructor(_0x551559,_0x4b3231,_0x1cae4a,_0x3642ee){const _0x32015c=a26_0x1ef26e;this[_0x32015c(0x88)]=_0x551559,this['productsRepository']=_0x4b3231,this[_0x32015c(0x7e)]=_0x1cae4a,this[_0x32015c(0xb3)]=_0x3642ee;}async[a26_0x1ef26e(0xbb)](_0x5c6a41){const _0xa6566d=a26_0x1ef26e,[_0xb4fbe6,_0xa80139,_0x1e114d,_0x362e40]=await Promise[_0xa6566d(0xa8)]([this[_0xa6566d(0x88)][_0xa6566d(0xba)](_0x5c6a41['ownerId']),this[_0xa6566d(0x7c)][_0xa6566d(0xba)](_0x5c6a41['id']),this[_0xa6566d(0x7e)][_0xa6566d(0xba)](_0x5c6a41['categoryId']),this[_0xa6566d(0xb3)]['findManyByIds'](_0x5c6a41[_0xa6566d(0x90)])]);if(!_0xb4fbe6)return(0x0,either_1['left'])(new resource_not_found_error_1[(_0xa6566d(0x84))](_0xa6566d(0x8f),'ID',_0x5c6a41[_0xa6566d(0x92)]));if(!_0xa80139)return(0x0,either_1['left'])(new resource_not_found_error_1[(_0xa6566d(0x84))]('Product','ID',_0x5c6a41['id']));if(!_0x1e114d)return(0x0,either_1[_0xa6566d(0x9d)])(new resource_not_found_error_1['ResourceNotFoundError'](_0xa6566d(0xb5),'ID',_0x5c6a41[_0xa6566d(0xa4)]));if(!_0xa80139[_0xa6566d(0x96)]['id'][_0xa6566d(0x8a)](_0xb4fbe6['id']))return(0x0,either_1[_0xa6566d(0x9d)])(new not_allowed_error_1['NotAllowedError'](_0xa6566d(0x9a)));if(_0xa80139[_0xa6566d(0x91)]===product_1[_0xa6566d(0x9b)]['Status'][_0xa6566d(0xaa)])return(0x0,either_1['left'])(new not_allowed_error_1[(_0xa6566d(0x7f))](_0xa6566d(0xad)));if(!_0x362e40[_0xa6566d(0x83)])return(0x0,either_1[_0xa6566d(0x9d)])(new resource_not_found_error_1[(_0xa6566d(0x84))](_0xa6566d(0xa5),_0xa6566d(0xbc),_0x362e40[_0xa6566d(0x9c)][_0xa6566d(0xa1)](',\x20')));return _0xa80139['title']=_0x5c6a41[_0xa6566d(0xb4)],_0xa80139[_0xa6566d(0xa3)]=_0x5c6a41['description'],_0xa80139[_0xa6566d(0x9f)]=_0x5c6a41[_0xa6566d(0x9f)],_0xa80139['category']=_0x1e114d,_0xa80139[_0xa6566d(0x94)][_0xa6566d(0x81)](_0x362e40[_0xa6566d(0x97)]),await this[_0xa6566d(0x7c)][_0xa6566d(0x95)](_0xa80139),(0x0,either_1[_0xa6566d(0x99)])({'product':_0xa80139});}};exports[a26_0x1ef26e(0x9e)]=EditProductUseCase,exports[a26_0x1ef26e(0x9e)]=EditProductUseCase=__decorate([(0x0,common_1[a26_0x1ef26e(0xa9)])(),__metadata(a26_0x1ef26e(0xa0),[sellers_repository_1[a26_0x1ef26e(0xbd)],products_repository_1[a26_0x1ef26e(0x93)],categories_repository_1[a26_0x1ef26e(0xa7)],attachments_repository_1[a26_0x1ef26e(0xb0)]])],EditProductUseCase);