'use strict';const a42_0x34c650=a42_0x507c;(function(_0x172469,_0x3f0cff){const _0x483095=a42_0x507c,_0x303b4f=_0x172469();while(!![]){try{const _0x40ed88=-parseInt(_0x483095(0x1f9))/0x1+-parseInt(_0x483095(0x201))/0x2*(-parseInt(_0x483095(0x1fa))/0x3)+parseInt(_0x483095(0x1fe))/0x4*(parseInt(_0x483095(0x1f2))/0x5)+parseInt(_0x483095(0x1e9))/0x6*(parseInt(_0x483095(0x1ef))/0x7)+parseInt(_0x483095(0x1ed))/0x8*(-parseInt(_0x483095(0x1ec))/0x9)+parseInt(_0x483095(0x204))/0xa+-parseInt(_0x483095(0x1e0))/0xb*(parseInt(_0x483095(0x1f0))/0xc);if(_0x40ed88===_0x3f0cff)break;else _0x303b4f['push'](_0x303b4f['shift']());}catch(_0x500c36){_0x303b4f['push'](_0x303b4f['shift']());}}}(a42_0xc053,0xc3e78));function a42_0xc053(){const _0x4c51bd=['1239XTZMKf','26868gSLTnm','files','15OYTSah','../storage/uploader','__decorate','../repositories/attachments.repository','../../../../core/logic/either','map','uploader','802940jgILFc','50421EICMLv','object','defineProperty','__esModule','1985232mRHGxi','execute','AttachmentsRepository','10rpxRfb','create','length','8533500CHoAMM','path','@nestjs/common','5170wJBuQY','all','upload','design:paramtypes','UploadAttachmentUseCase','function','decorate','Attachment','Uploader','51918WLzbFB','getOwnPropertyDescriptor','../../enterprise/entities/attachment','55197TMVCiY','1696oSsUtJ','metadata'];a42_0xc053=function(){return _0x4c51bd;};return a42_0xc053();}var __decorate=this&&this[a42_0x34c650(0x1f4)]||function(_0x103175,_0x115f3f,_0x133e33,_0x424073){const _0x9270c=a42_0x34c650;var _0x6e0822=arguments[_0x9270c(0x203)],_0x3c6773=_0x6e0822<0x3?_0x115f3f:_0x424073===null?_0x424073=Object[_0x9270c(0x1ea)](_0x115f3f,_0x133e33):_0x424073,_0x21cd19;if(typeof Reflect===_0x9270c(0x1fb)&&typeof Reflect['decorate']==='function')_0x3c6773=Reflect[_0x9270c(0x1e6)](_0x103175,_0x115f3f,_0x133e33,_0x424073);else{for(var _0x566359=_0x103175[_0x9270c(0x203)]-0x1;_0x566359>=0x0;_0x566359--)if(_0x21cd19=_0x103175[_0x566359])_0x3c6773=(_0x6e0822<0x3?_0x21cd19(_0x3c6773):_0x6e0822>0x3?_0x21cd19(_0x115f3f,_0x133e33,_0x3c6773):_0x21cd19(_0x115f3f,_0x133e33))||_0x3c6773;}return _0x6e0822>0x3&&_0x3c6773&&Object['defineProperty'](_0x115f3f,_0x133e33,_0x3c6773),_0x3c6773;},__metadata=this&&this['__metadata']||function(_0x5bd58b,_0x7aaf2){const _0x1ee8f5=a42_0x34c650;if(typeof Reflect===_0x1ee8f5(0x1fb)&&typeof Reflect[_0x1ee8f5(0x1ee)]===_0x1ee8f5(0x1e5))return Reflect[_0x1ee8f5(0x1ee)](_0x5bd58b,_0x7aaf2);};function a42_0x507c(_0x2b62c6,_0x55ce94){const _0xc053cc=a42_0xc053();return a42_0x507c=function(_0x507cb5,_0x2f4c1f){_0x507cb5=_0x507cb5-0x1e0;let _0x5c6841=_0xc053cc[_0x507cb5];return _0x5c6841;},a42_0x507c(_0x2b62c6,_0x55ce94);}Object[a42_0x34c650(0x1fc)](exports,a42_0x34c650(0x1fd),{'value':!![]}),exports[a42_0x34c650(0x1e4)]=void 0x0;const common_1=require(a42_0x34c650(0x206)),either_1=require(a42_0x34c650(0x1f6)),attachments_repository_1=require(a42_0x34c650(0x1f5)),uploader_1=require(a42_0x34c650(0x1f3)),attachment_1=require(a42_0x34c650(0x1eb));let UploadAttachmentUseCase=class UploadAttachmentUseCase{constructor(_0xfbec77,_0x3d56c5){const _0x3ab528=a42_0x34c650;this['attachmentsRepository']=_0xfbec77,this[_0x3ab528(0x1f8)]=_0x3d56c5;}async[a42_0x34c650(0x1ff)](_0x3fce4f){const _0x1d80b7=a42_0x34c650,_0x337b08=await Promise[_0x1d80b7(0x1e1)](_0x3fce4f[_0x1d80b7(0x1f1)][_0x1d80b7(0x1f7)](_0x22fc3b=>this['uploader'][_0x1d80b7(0x1e2)]({'file':_0x22fc3b}))),_0x585c7b=_0x337b08[_0x1d80b7(0x1f7)](_0x27d1fe=>{const _0x22ebaf=_0x1d80b7;return attachment_1[_0x22ebaf(0x1e7)][_0x22ebaf(0x202)]({'path':_0x27d1fe[_0x22ebaf(0x205)]});});return await this['attachmentsRepository']['createMany'](_0x585c7b),(0x0,either_1['right'])({'attachments':_0x585c7b});}};exports[a42_0x34c650(0x1e4)]=UploadAttachmentUseCase,exports['UploadAttachmentUseCase']=UploadAttachmentUseCase=__decorate([(0x0,common_1['Injectable'])(),__metadata(a42_0x34c650(0x1e3),[attachments_repository_1[a42_0x34c650(0x200)],uploader_1[a42_0x34c650(0x1e8)]])],UploadAttachmentUseCase);