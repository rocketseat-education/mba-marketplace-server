'use strict';const a38_0x43f709=a38_0x3deb;function a38_0x3deb(_0x243ecf,_0x288beb){const _0x834f4c=a38_0x834f();return a38_0x3deb=function(_0x3deb67,_0x14a533){_0x3deb67=_0x3deb67-0x1bb;let _0x23adb8=_0x834f4c[_0x3deb67];return _0x23adb8;},a38_0x3deb(_0x243ecf,_0x288beb);}function a38_0x834f(){const _0x202fac=['metadata','function','sellersRepository','3126sCqEZs','left','425544xnopzb','phone','HashGenerator','./errors/phone-already-exists.error','hashGenerator','../../enterprise/entities/user/seller','getOwnPropertyDescriptor','RegisterSellerUseCase','3IbxLzA','101lLBEGa','design:paramtypes','__decorate','name','attachmentsRepository','@nestjs/common','__esModule','Injectable','length','password','EmailAlreadyExistsError','2189632YcxsJC','findByPhone','1714QGKOxc','right','Attachment','./errors/email-already-exists.error','1130634ojjFqY','AttachmentsRepository','email','Seller','object','2254110xejmlK','218032DIcWyT','decorate','./errors/resource-not-found.error','2605FhjAro','../repositories/attachments.repository','create'];a38_0x834f=function(){return _0x202fac;};return a38_0x834f();}(function(_0x44a4e1,_0x1cb7c8){const _0x590c88=a38_0x3deb,_0x493bc8=_0x44a4e1();while(!![]){try{const _0x35196c=-parseInt(_0x590c88(0x1c2))/0x1*(-parseInt(_0x590c88(0x1cf))/0x2)+parseInt(_0x590c88(0x1c1))/0x3*(-parseInt(_0x590c88(0x1d9))/0x4)+parseInt(_0x590c88(0x1dc))/0x5*(parseInt(_0x590c88(0x1e2))/0x6)+parseInt(_0x590c88(0x1e4))/0x7+-parseInt(_0x590c88(0x1cd))/0x8+-parseInt(_0x590c88(0x1d3))/0x9+parseInt(_0x590c88(0x1d8))/0xa;if(_0x35196c===_0x1cb7c8)break;else _0x493bc8['push'](_0x493bc8['shift']());}catch(_0x10ebe1){_0x493bc8['push'](_0x493bc8['shift']());}}}(a38_0x834f,0x2e79b));var __decorate=this&&this[a38_0x43f709(0x1c4)]||function(_0x347a60,_0xc73b1b,_0x3f45ea,_0x41b41c){const _0x468557=a38_0x43f709;var _0x12a47c=arguments['length'],_0x2a931f=_0x12a47c<0x3?_0xc73b1b:_0x41b41c===null?_0x41b41c=Object[_0x468557(0x1bf)](_0xc73b1b,_0x3f45ea):_0x41b41c,_0x152712;if(typeof Reflect==='object'&&typeof Reflect[_0x468557(0x1da)]===_0x468557(0x1e0))_0x2a931f=Reflect[_0x468557(0x1da)](_0x347a60,_0xc73b1b,_0x3f45ea,_0x41b41c);else{for(var _0x1672f3=_0x347a60[_0x468557(0x1ca)]-0x1;_0x1672f3>=0x0;_0x1672f3--)if(_0x152712=_0x347a60[_0x1672f3])_0x2a931f=(_0x12a47c<0x3?_0x152712(_0x2a931f):_0x12a47c>0x3?_0x152712(_0xc73b1b,_0x3f45ea,_0x2a931f):_0x152712(_0xc73b1b,_0x3f45ea))||_0x2a931f;}return _0x12a47c>0x3&&_0x2a931f&&Object['defineProperty'](_0xc73b1b,_0x3f45ea,_0x2a931f),_0x2a931f;},__metadata=this&&this['__metadata']||function(_0x483f75,_0x1cc2a2){const _0x153f5e=a38_0x43f709;if(typeof Reflect===_0x153f5e(0x1d7)&&typeof Reflect[_0x153f5e(0x1df)]===_0x153f5e(0x1e0))return Reflect[_0x153f5e(0x1df)](_0x483f75,_0x1cc2a2);};Object['defineProperty'](exports,a38_0x43f709(0x1c8),{'value':!![]}),exports[a38_0x43f709(0x1c0)]=void 0x0;const common_1=require(a38_0x43f709(0x1c7)),either_1=require('../../../../core/logic/either'),hash_generator_1=require('../cryptography/hash-generator'),attachments_repository_1=require(a38_0x43f709(0x1dd)),sellers_repository_1=require('../repositories/sellers.repository'),email_already_exists_error_1=require(a38_0x43f709(0x1d2)),phone_already_exists_error_1=require(a38_0x43f709(0x1bc)),resource_not_found_error_1=require(a38_0x43f709(0x1db)),seller_1=require(a38_0x43f709(0x1be));let RegisterSellerUseCase=class RegisterSellerUseCase{constructor(_0x4c8d18,_0x212fd3,_0xf485ac){const _0x53b44c=a38_0x43f709;this['sellersRepository']=_0x4c8d18,this[_0x53b44c(0x1c6)]=_0x212fd3,this[_0x53b44c(0x1bd)]=_0xf485ac;}async['execute'](_0x2ade4a){const _0x45d95e=a38_0x43f709,_0x4025fc=_0x2ade4a[_0x45d95e(0x1d5)]['toLowerCase'](),[_0x1fec17,_0x35e2c5]=await Promise['all']([this[_0x45d95e(0x1e1)]['findByEmail'](_0x4025fc),this[_0x45d95e(0x1e1)][_0x45d95e(0x1ce)](_0x2ade4a[_0x45d95e(0x1e5)])]);if(_0x1fec17)return(0x0,either_1['left'])(new email_already_exists_error_1[(_0x45d95e(0x1cc))](_0x4025fc));if(_0x35e2c5)return(0x0,either_1[_0x45d95e(0x1e3)])(new phone_already_exists_error_1['PhoneAlreadyExistsError'](_0x2ade4a['phone']));const _0x588511=await this[_0x45d95e(0x1bd)]['hash'](_0x2ade4a[_0x45d95e(0x1cb)]),_0x1aa28d=seller_1[_0x45d95e(0x1d6)][_0x45d95e(0x1de)]({'email':_0x4025fc,'name':_0x2ade4a[_0x45d95e(0x1c5)],'phone':_0x2ade4a['phone'],'password':_0x588511});if(_0x2ade4a['avatarId']){const _0x168f18=await this[_0x45d95e(0x1c6)]['findById'](_0x2ade4a['avatarId']);if(!_0x168f18)return(0x0,either_1['left'])(new resource_not_found_error_1['ResourceNotFoundError'](_0x45d95e(0x1d1),'ID',_0x2ade4a['avatarId']));_0x1aa28d['avatar']=_0x168f18;}return await this[_0x45d95e(0x1e1)][_0x45d95e(0x1de)](_0x1aa28d),(0x0,either_1[_0x45d95e(0x1d0)])({'seller':_0x1aa28d});}};exports[a38_0x43f709(0x1c0)]=RegisterSellerUseCase,exports['RegisterSellerUseCase']=RegisterSellerUseCase=__decorate([(0x0,common_1[a38_0x43f709(0x1c9)])(),__metadata(a38_0x43f709(0x1c3),[sellers_repository_1['SellersRepository'],attachments_repository_1[a38_0x43f709(0x1d4)],hash_generator_1[a38_0x43f709(0x1bb)]])],RegisterSellerUseCase);